<div class="vc-container">
  <div class="header-actions">
    <h2>Historial Clínico</h2> <a routerLink="/home" class="vc-btn ghost">⬅ Volver</a>
  </div>

  <div *ngIf="!pastCitas || pastCitas.length === 0" class="empty-state">
    <div class="empty-icon">📂</div>
    <p>No hay historial registrado.</p>
    <small>Las citas pasadas aparecerán aquí automáticamente.</small>
  </div>

  <div class="historial-grid">
    <div *ngFor="let c of pastCitas" class="historial-card">

      <div class="card-date">
        <span class="date-day">{{ c.fechaHora | date:'dd' }}</span>
        <span class="date-month">{{ c.fechaHora | date:'MMM' | uppercase }}</span>
        <span class="date-year">{{ c.fechaHora | date:'yyyy' }}</span>
      </div>

      <div class="card-info">
        <div class="info-header">
          <h3>{{ c.mascotaNombre }}</h3>
          <span class="badge-raza">{{ c.mascotaRaza }}</span>
        </div>

        <div class="info-detail">
          <p class="motivo"><strong>Motivo:</strong> {{ c.motivo }}</p>
          <p class="dueno"><strong>Dueño:</strong> {{ c.duenoNombre }} <span *ngIf="c.duenoTel">({{ c.duenoTel }})</span></p>
          <p class="hora"><small>Atendido a las: {{ c.fechaHora | date:'HH:mm' }}</small></p>
        </div>
      </div>

      <div class="card-actions">
        <button (click)="eliminar(c.id)" class="btn-delete" title="Borrar registro">
          🗑️
        </button>
      </div>

    </div>
  </div>
</div>
